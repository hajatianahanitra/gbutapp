var crypto = require('crypto');
var rand = require('csprng');
var mongoose = require('mongoose');
var gravatar = require('gravatar');
var mod = require('config/models');
var MongoClient = require('mongodb').MongoClient, assert = require('assert');
var url = 'mongodb://GBUTAPP:GBUTAPP1234@ds259499.mlab.com:59499/gbutapp';	
var ObjectId = require('mongodb').ObjectId; 


exports.recherchemembreparnom = function(nomm,callback) {
		MongoClient.connect(url, function(err, db) {
				var cursor = db.collection("Membre").find({nom:nomm});
				cursor.toArray(function(err, docs) {
					callback(docs);
						db.close();
				});
				});	
}
exports.recherchemembre = function(id,callback) {
		MongoClient.connect(url, function(err, db) {
				var cursor = db.collection("Membre").find({_id:ObjectId(id)});
				cursor.toArray(function(err, docs) {
					callback(docs);
						db.close();
				});
				});	
}


exports.recherchecelluleparnom = function(nomm,callback) {
		MongoClient.connect(url, function(err, db) {
				var cursor = db.collection("cellules").find({nom:nomm});
				cursor.toArray(function(err, docs) {
					callback(docs);
						db.close();
				});
				});	
}
exports.recherchecellule = function(id,callback) {
		MongoClient.connect(url, function(err, db) {
				var cursor = db.collection("cellules").find({_id:ObjectId(id)});
				cursor.toArray(function(err, docs) {
					callback(docs);
						db.close();
				});
				});	
}




	